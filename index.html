<!doctype html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Survei Kepuasan UKS MTs Negeri 9 Bantul</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>

<style>
  body { font-family: 'Nunito', sans-serif; }

  .option {
    border: 2px solid #e5e7eb;
    padding: 12px;
    border-radius: 14px;
    cursor: pointer;
    text-align: center;
    transition: all .2s ease;
    background: #fff;
  }

  .option:hover {
    border-color: #22c55e;
  }

  .option.active {
    background: #dcfce7;
    border-color: #16a34a;
    color: #166534;
    font-weight: 700;
    transform: scale(1.03);
  }
</style>
</head>

<body class="bg-gradient-to-br from-green-50 via-blue-50 to-lime-50 min-h-screen flex items-center justify-center">

<div class="max-w-xl w-full bg-white rounded-3xl shadow-xl p-6">

  <!-- DATA RESPONDEN -->
  <section id="form">

    <h2 class="text-2xl font-extrabold text-center text-green-700 mb-6">
      ğŸ“‹ Data Responden
    </h2>

    <input id="nama" type="text" placeholder="Nama (opsional)"
      class="w-full border-2 rounded-xl p-3 mb-2">

    <p class="text-sm text-gray-500 mb-6">
      Digunakan hanya untuk dokumentasi internal madrasah.
    </p>

    <!-- STATUS -->
    <p class="font-bold mb-2">Status Anda:</p>
    <div class="grid grid-cols-3 gap-3 mb-6" id="statusGroup">
      <div class="option" data-value="Guru">ğŸ‘¨â€ğŸ« Guru</div>
      <div class="option" data-value="Pegawai">ğŸ‘” Pegawai</div>
      <div class="option" data-value="Siswa">ğŸ‘¨â€ğŸ“ Siswa</div>
    </div>

    <!-- KELAS -->
    <div id="kelasSection" class="hidden">
      <p class="font-bold mb-2">Kelas:</p>
      <div class="grid grid-cols-3 gap-3 mb-6" id="kelasGroup">
        <div class="option" data-value="VII">VII</div>
        <div class="option" data-value="VIII">VIII</div>
        <div class="option" data-value="IX">IX</div>
      </div>
    </div>

    <button onclick="submitData()"
      class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl font-bold">
      Lanjutkan â†’
    </button>

  </section>
</div>

<script>
let selectedStatus = null;
let selectedKelas = null;

/* ====== GENERIC HIGHLIGHT HANDLER ====== */
function activate(groupId, element) {
  document.querySelectorAll(`#${groupId} .option`)
    .forEach(el => el.classList.remove('active'));
  element.classList.add('active');
}

/* ===== STATUS CLICK ===== */
document.querySelectorAll('#statusGroup .option').forEach(btn => {
  btn.addEventListener('click', () => {
    activate('statusGroup', btn);
    selectedStatus = btn.dataset.value;

    // tampilkan kelas hanya jika siswa
    if (selectedStatus === 'Siswa') {
      document.getElementById('kelasSection').classList.remove('hidden');
    } else {
      document.getElementById('kelasSection').classList.add('hidden');
      selectedKelas = null;
      document.querySelectorAll('#kelasGroup .option')
        .forEach(el => el.classList.remove('active'));
    }
  });
});

/* ===== KELAS CLICK ===== */
document.querySelectorAll('#kelasGroup .option').forEach(btn => {
  btn.addEventListener('click', () => {
    activate('kelasGroup', btn);
    selectedKelas = btn.dataset.value;
  });
});

/* ===== SUBMIT ===== */
function submitData() {
  if (!selectedStatus) {
    alert('Silakan pilih status Anda.');
    return;
  }
  if (selectedStatus === 'Siswa' && !selectedKelas) {
    alert('Silakan pilih kelas.');
    return;
  }

  alert(
    'Data tersimpan:\n' +
    'Status: ' + selectedStatus +
    (selectedKelas ? '\nKelas: ' + selectedKelas : '')
  );

  // reset form (privasi)
  document.getElementById('nama').value = '';
  document.querySelectorAll('.option').forEach(el => el.classList.remove('active'));
  document.getElementById('kelasSection').classList.add('hidden');
  selectedStatus = null;
  selectedKelas = null;
}
</script>

</body>
</html>
